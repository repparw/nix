bind-key @ command-prompt -p "create pane from:" "join-pane -s ':%%'"

# dreamsofcode-io/tmux conf
set-option -sa terminal-overrides ",xterm*:Tc"
set -g mouse on

unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Shift arrow to switch windows
#bind -n S-Left  previous-window
#bind -n S-Right next-window

# Shift Alt vim keys to switch windows
bind -n M-H previous-window
bind -n M-L next-window

set-environment -g -F TMUX_PLUGIN_MANAGER_PATH ${XDG_DATA_HOME}/tmux/plugins

set-option -g update-environment "DISPLAY WAYLAND_DISPLAY SSH_AUTH_SOCK"

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-pain-control' # vim style mappings in panes (move,resize,swap)
set -g @plugin 'jaclu/tmux-power-zoom'
set -g @plugin 'omerxx/tmux-floax'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-yank'

set -g @plugin 'tmux-plugins/tmux-resurrect' # save and restore tmux env
set -g @plugin 'tmux-plugins/tmux-continuum' # auto persist with resurrect
set -g @continuum-restore 'on'

## THEME
set -g @plugin 'janders223/gruvbox-tmux'
# disable unused functionality in gruvbox theme
set -g @gruvbox-show-battery false
set -g @gruvbox-show-network false
set -g @gruvbox-show-timezone false
set -g @gruvbox-show-weather false
set -g @gruvbox-show-fahrenheit false
# enable non default functionality in gruvbox theme
set -g @gruvbox-show-left-icon session
set -g @gruvbox-show-powerline true
set -g @gruvbox-military-time true
set -g @gruvbox-day-month true
## THEME END


# Change power zoom to default zoom bind
unbind z
set -g @power_zoom_trigger z
# set vi-mode
set-window-option -g mode-keys vi
# keybindings
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# keep at EOF
run "${XDG_DATA_HOME}/tmux/plugins/tpm/tpm"

# allow clearing of screen in a shell
# at EOF so it overwrites pain-control
bind C-l send-keys 'C-l'
