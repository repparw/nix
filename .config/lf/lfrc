set shell zsh

set shellopts '-eu'

set ifs "\n"

set scrolloff 10

set hidden

set drawbox

set icons
set period 1

# execute current file (must be executable)
map x $$f
map X !$f

# dedicated keys for file opener actions
map o &mimeopen $f
map O $mimeopen --ask $f

# define a custom 'open' command
# This command is called when current file is not a directory. You may want to
# use either file extensions and/or mime types here. Below uses an editor for
# text files and a file opener for the rest.

# define a custom 'rename' command without prompt for overwrite
# cmd rename %[ -e $1 ] && printf "file exists" || mv $f $1
# map r push :rename<space>

# move current file or selected files to trash folder
 cmd trash $rip $fx

# Mappings
 map D trash
 map <f-2> rename
 map <enter> open
 map <c-z> $ kill -STOP $PPID
 map u usage

# Commands

# Bulk rename
cmd bulk ${{
  /bin/sh -c "vimv $(echo -e "$fx" | xargs -i echo "\\'{}\\'" | xargs echo)"
}}
map b bulk

cmd on-cd &{{
        printf "\033]0; $PWD\007" > /dev/tty;
		zoxide add "$PWD"
    }}
on-cd

map q quit

set previewer ~/.config/lf/lf_kitty_preview
set cleaner ~/.config/lf/lf_kitty_clean
